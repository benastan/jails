{"version":3,"file":"lib/jails.min.js","sources":["lib/jails.js"],"names":["oldJails","this","Jails","root","window","module","exports","wrap","fn","apply","arguments","defined","anything","i","hasOwnProperty","Queue","wrapper","queue","prototype","flush","cb","shift","push","Dataset","model_or_query","dataset","arg","find","Object","filter","DatasetConstructor","call","$","extend","Query","query","model","models","count","length","add","preExistingModel","Array","slice","id","remove","mergeModels","model_or_id","index","indexOf","splice","empty","currentModel","clone","key","val","modelAttrVal","newIndex","args","ArgumentError","get","RegExp","test","at","first","last","AjaxDataSource","request","ajax","dataSource","_this","queryParams","fetchAll","aliasQueryMethods","split","url","all","where","type","data","success","res","currentAttributes","synced","ii","value","Model","id_or_attributes","attributes","klass","callee","caller","name","Error","setup","set","composer","composers","proto","_super","DelegatedMethodsWithObjects","all limit page where","count add remove find empty filter first last at","DelegatedMethods","methods","keys","memo","reduce","methodNames","objectMethod","methodName","object","fetch","compose","mergeModel","reducer","attributeSets","unshift"],"mappings":"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"}