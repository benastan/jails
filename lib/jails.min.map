{"version":3,"file":"lib/jails.min.js","sources":["lib/jails.js"],"names":["Jails","wrap","fn","apply","this","arguments","defined","anything","Queue","wrapper","queue","prototype","flush","cb","shift","push","Dataset","model_or_query","dataset","arg","find","Object","filter","DatasetConstructor","call","$","extend","Query","query","model","models","count","length","add","preExistingModel","Array","slice","i","id","remove","mergeModels","model_or_id","index","indexOf","splice","empty","currentModel","clone","key","val","modelAttrVal","args","ArgumentError","get","RegExp","test","HTTP","ajax","_this","queryParams","fetchAll","aliasQueryMethods","split","url","all","where","type","data","success","res","currentAttributes","synced","ii","value","Model","id_or_attributes","attributes","klass","callee","caller","name","Error","setup","set","composer","composers","proto","_super","hasOwnProperty","method","__super","QueryMethods","reduce","memo","methodName","fetch","compose","mergeModel","reducer","attributeSets","unshift","window"],"mappings":"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"}